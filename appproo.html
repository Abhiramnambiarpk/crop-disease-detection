<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Cropbyte</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Add this line -->
  <!-- ===== style.css START ===== -->
  <style>
    :root {
      --primary-green: #2ecc40;
      --secondary-green: #27ae60;
      --light-green: #eafaf1;
      --dark-green: #145a32;
      --white: #fff;
      --gray: #f9f9f9;
    }
    body {
      font-family: 'Segoe UI', Arial, sans-serif;
      padding: 0;
      margin: 0;
      background: var(--light-green);
      color: var(--dark-green);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    header {
      width: 100%;
      background: var(--primary-green);
      color: #fff;
      padding: 12px 0;
      text-align: center;
      font-size: 1.5rem;
      letter-spacing: 1px;
      margin-bottom: 0.5em;
    }
    .card {
      background: var(--light-green);
      border-radius: 16px;
      box-shadow: 0 2px 16px rgba(44, 62, 80, 0.08);
      padding: 24px 12px;
      max-width: 350px;
      margin: 40px auto;
    }
    .lang-buttons {
      display: flex;
      flex-direction: column;
      gap: 14px;
      align-items: stretch;
    }
    .lang-btn {
      font-size: 1.1rem;
      padding: 14px 0;
      min-width: 0;
      border-radius: 8px;
      border: none;
      background: #52c36b;
      color: #fff;
      cursor: pointer;
      transition: background 0.2s;
    }
    .lang-btn:hover {
      background: #8bec53;
    }
    .hero {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: center;
      margin: 1em 0 2em 0;
      gap: 2em;
    }
    .hero-text {
      max-width: 350px;
    }
    .hero-title {
      font-size: 1.5em;
      font-weight: bold;
      margin-bottom: 0.5em;
    }
    .hero-desc {
      font-size: 1.1em;
      margin-bottom: 1em;
    }
    .hero-img img {
      width: 180px;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(44, 62, 80, 0.08);
    }
    main {
      width: 100%;
      max-width: 400px;
      margin: 0 auto;
    }
    label {
      font-weight: 500;
      margin-top: 1em;
      display: block;
    }
    input[type="file"], textarea {
      margin: 0.5em 0 1em 0;
      width: 100%;
      font-size: 1em;
      border-radius: 6px;
      border: 1px solid #b2dfdb;
      padding: 0.7em;
      background: #fff;
      box-sizing: border-box;
    }
    #imageContainer img {
      max-width: 100%;
      margin: 0.5em 0;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(44, 62, 80, 0.08);
    }
    button {
      transition: background 0.2s;
    }
    #takePhotoBtn {
      background: #27ae60;
      color: #fff;
      border: none;
      border-radius: 8px;
      padding: 10px 0;
      font-size: 1.1em;
      width: 100%;
      margin-bottom: 10px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5em;
    }
    #analyzeBtn {
      background: #2ecc40;
      color: #fff;
      border: none;
      border-radius: 8px;
      padding: 12px 0;
      font-size: 1.1em;
      width: 100%;
      margin-top: 1em;
      cursor: pointer;
    }
    #analyzeBtn:hover, #takePhotoBtn:hover {
      background: #8bec53;
      color: #145a32;
    }
    footer {
      margin-top: 2em;
      color: #888;
      font-size: 0.95em;
      text-align: center;
      width: 100%;
    }
    @media (max-width: 500px) {
      .card {
        max-width: 98vw;
        padding: 14px 4vw;
      }
      .lang-btn {
        font-size: 1rem;
        padding: 12px 0;
      }
      #title {
        font-size: 1.3rem;
      }
      #description {
        font-size: 1rem;
      }
      .hero-img img {
        width: 120px;
      }
      .hero-title {
        font-size: 1.1em;
      }
      main {
        max-width: 98vw;
      }
    }
  </style>
  <!-- ===== style.css END ===== -->
  <!-- Font Awesome CDN for camera icon -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
</head>
<body>
  <!-- ===== index.html START ===== -->
  <div id="languagePage">
    <div class="card fade-in">
      <h1 id="title">Choose Your Language</h1>
      <p id="description">Select the language you are comfortable with.</p>
      <div class="lang-buttons">
        <button class="lang-btn" onclick="setLanguage('en')">English</button>
        <button class="lang-btn" onclick="setLanguage('hi')">‡§π‡§ø‡§Ç‡§¶‡•Ä</button>
        <button class="lang-btn" onclick="setLanguage('mal')">‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç</button>
        <button class="lang-btn" onclick="setLanguage('tam')">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</button>
        <button class="lang-btn" onclick="setLanguage('tel')">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</button>
        <button class="lang-btn" onclick="setLanguage('kan')">‡≤ï‡≤®‡≥ç‡≤®‡≤°</button>
        <button class="lang-btn" onclick="setLanguage('mar')">‡§Æ‡§∞‡§æ‡§†‡•Ä</button>
      </div>
    </div>
  </div>
  <!-- ===== index.html END ===== -->

  <!-- ===== main.html START ===== -->
  <div id="mainPage" style="display:none;">
    <header>
      <h1 style="margin:0;">üå± Cropbyte</h1>
    </header>
    <button id="changeLangBtn" style="margin: 1em 0; background: #fff; color: #145a32; border: 1px solid #27ae60; border-radius: 8px; padding: 8px 16px; cursor: pointer;">
      Change Language
    </button>
    <section class="hero">
      <div class="hero-text">
        <div class="hero-title" id="heroTitle"></div>
        <div class="hero-desc" id="heroDesc">
          Quick check for diseased plants. Take a photo, get an answer, save your crops.
        </div>
      </div>
      <div class="hero-img">
        <img src="https://images.unsplash.com/photo-1599328580087-15c9dab481f3?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8N3x8cGFkZHklMjBmaWVsZHxlbnwwfHwwfHx8MA%3D%3D" alt="Healthy crop field">
      </div>
    </section>
    <main>
      <form id="cropForm" autocomplete="off">
        <label for="imageInput" id="uploadLabel">Upload Crop Image</label>
        <button type="button" id="takePhotoBtn" style="margin-bottom:10px;">
          <i class="fa-solid fa-camera"></i> <span id="takePhotoText">Take photo</span>
        </button>
        <input type="file" accept="image/*" capture="environment" id="imageInput">
        <div id="imageContainer"></div>
        <label for="notes" id="notesLabel">Additional Notes (optional)</label>
        <textarea id="notes" rows="2" placeholder="Describe symptoms or concerns"></textarea>
        <button type="button" id="analyzeBtn">Analyze</button>
      </form>
    </main>
    <footer>
      &copy; 2024 Cropbyte | For educational use
    </footer>
  </div>
  <!-- ===== main.html END ===== -->

  <!-- ===== translation.js START ===== -->
  <script>
    const translations = {
      en: {
        title: "Choose Your Language",
        description: "Select the language you are comfortable with.",
        heroTitle: "Your Smart Plant Health Assistant",
        heroDesc: "Quick check for diseased plants. Take a photo, get an answer, save your crops.",
        uploadLabel: "Upload Crop Image",
        takePhoto: "Take photo",
        notesLabel: "Additional Notes (optional)",
        notesPlaceholder: "Describe symptoms or concerns",
        analyzeBtn: "Analyze"
      },
      hi: {
        title: "‡§Ö‡§™‡§®‡•Ä ‡§≠‡§æ‡§∑‡§æ ‡§ö‡•Å‡§®‡•á‡§Ç",
        description: "‡§µ‡§π ‡§≠‡§æ‡§∑‡§æ ‡§ö‡•Å‡§®‡•á‡§Ç ‡§ú‡§ø‡§∏‡§Æ‡•á‡§Ç ‡§Ü‡§™ ‡§∏‡§π‡§ú ‡§π‡•à‡§Ç‡•§",
        heroTitle: "‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§Æ‡§æ‡§∞‡•ç‡§ü ‡§™‡•å‡§ß ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§∏‡§π‡§æ‡§Ø‡§ï",
        heroDesc: "‡§¨‡•Ä‡§Æ‡§æ‡§∞ ‡§™‡•å‡§ß‡•ã‡§Ç ‡§ï‡•Ä ‡§§‡•ç‡§µ‡§∞‡§ø‡§§ ‡§ú‡§æ‡§Ç‡§ö‡•§ ‡§è‡§ï ‡§´‡•ã‡§ü‡•ã ‡§≤‡•á‡§Ç, ‡§â‡§§‡•ç‡§§‡§∞ ‡§™‡§æ‡§è‡§Ç, ‡§Ö‡§™‡§®‡•Ä ‡§´‡§∏‡§≤ ‡§¨‡§ö‡§æ‡§è‡§Ç‡•§",
        uploadLabel: "‡§´‡§∏‡§≤ ‡§ï‡•Ä ‡§õ‡§µ‡§ø ‡§Ö‡§™‡§≤‡•ã‡§° ‡§ï‡§∞‡•á‡§Ç",
        takePhoto: "‡§´‡•ã‡§ü‡•ã ‡§≤‡•á‡§Ç",
        notesLabel: "‡§Ö‡§§‡§ø‡§∞‡§ø‡§ï‡•ç‡§§ ‡§®‡•ã‡§ü‡•ç‡§∏ (‡§µ‡•à‡§ï‡§≤‡•ç‡§™‡§ø‡§ï)",
        notesPlaceholder: "‡§≤‡§ï‡•ç‡§∑‡§£ ‡§Ø‡§æ ‡§ö‡§ø‡§Ç‡§§‡§æ‡§è‡§Å ‡§µ‡§∞‡•ç‡§£‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç",
        analyzeBtn: "‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§ï‡§∞‡•á‡§Ç"
      },
      mal: {
        title: "‡¥®‡¥ø‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥ü‡µÜ ‡¥≠‡¥æ‡¥∑ ‡¥§‡¥ø‡¥∞‡¥û‡µç‡¥û‡µÜ‡¥ü‡µÅ‡¥ï‡µç‡¥ï‡µÅ‡¥ï",
        description: "‡¥®‡¥ø‡¥ô‡µç‡¥ô‡µæ‡¥ï‡µç‡¥ï‡µç ‡¥∏‡µó‡¥ï‡¥∞‡µç‡¥Ø‡¥™‡µç‡¥∞‡¥¶‡¥Æ‡¥æ‡¥Ø ‡¥≠‡¥æ‡¥∑ ‡¥§‡¥ø‡¥∞‡¥û‡µç‡¥û‡µÜ‡¥ü‡µÅ‡¥ï‡µç‡¥ï‡µÅ‡¥ï.",
        heroTitle: "‡¥®‡¥ø‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥ü‡µÜ ‡¥∏‡µç‡¥Æ‡¥æ‡µº‡¥ü‡µç‡¥ü‡µç ‡¥™‡µç‡¥≤‡¥æ‡¥®‡µç‡¥±‡µç ‡¥π‡µÜ‡µΩ‡¥§‡µç‡¥§‡µç ‡¥Ö‡¥∏‡¥ø‡¥∏‡µç‡¥±‡µç‡¥±‡¥®‡µç‡¥±‡µç",
        heroDesc: "‡¥∞‡µã‡¥ó‡¥¨‡¥æ‡¥ß‡¥ø‡¥§‡¥Æ‡¥æ‡¥Ø ‡¥ö‡µÜ‡¥ü‡¥ø‡¥ï‡¥≥‡µÜ ‡¥™‡µÜ‡¥ü‡µç‡¥ü‡µÜ‡¥®‡µç‡¥®‡µç ‡¥™‡¥∞‡¥ø‡¥∂‡µã‡¥ß‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥ï. ‡¥í‡¥∞‡µÅ ‡¥´‡µã‡¥ü‡µç‡¥ü‡µã ‡¥é‡¥ü‡µÅ‡¥ï‡µç‡¥ï‡µÇ, ‡¥â‡¥§‡µç‡¥§‡¥∞‡¥Æ‡µÜ‡¥ü‡µÅ‡¥ï‡µç‡¥ï‡µÇ, ‡¥®‡¥ø‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥ü‡µÜ ‡¥µ‡¥ø‡¥≥ ‡¥∞‡¥ï‡µç‡¥∑‡¥ø‡¥ï‡µç‡¥ï‡µÇ.",
        uploadLabel: "‡¥µ‡¥ø‡¥≥‡¥Ø‡µÅ‡¥ü‡µÜ ‡¥ö‡¥ø‡¥§‡µç‡¥∞‡¥Ç ‡¥Ö‡¥™‡µç‚Äå‡¥≤‡µã‡¥°‡µç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µÅ‡¥ï",
        takePhoto: "‡¥´‡µã‡¥ü‡µç‡¥ü‡µã ‡¥é‡¥ü‡µÅ‡¥ï‡µç‡¥ï‡µÅ‡¥ï",
        notesLabel: "‡¥ï‡µÇ‡¥ü‡µÅ‡¥§‡µΩ ‡¥ï‡µÅ‡¥±‡¥ø‡¥™‡µç‡¥™‡µÅ‡¥ï‡µæ (‡¥ê‡¥ö‡µç‡¥õ‡¥ø‡¥ï‡¥Ç)",
        notesPlaceholder: "‡¥≤‡¥ï‡µç‡¥∑‡¥£‡¥ô‡µç‡¥ô‡µæ ‡¥Ö‡¥≤‡µç‡¥≤‡µÜ‡¥ô‡µç‡¥ï‡¥ø‡µΩ ‡¥Ü‡¥∂‡¥ô‡µç‡¥ï‡¥ï‡µæ ‡¥µ‡¥ø‡¥µ‡¥∞‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥ï",
        analyzeBtn: "‡¥µ‡¥ø‡¥∂‡¥ï‡¥≤‡¥®‡¥Ç ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µÅ‡¥ï"
      },
      tam: {
        title: "‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡ÆÆ‡Øä‡Æ¥‡Æø‡ÆØ‡Øà‡Æ§‡Øç ‡Æ§‡Øá‡Æ∞‡Øç‡Æ®‡Øç‡Æ§‡ØÜ‡Æü‡ØÅ‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç",
        description: "‡Æ®‡ØÄ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æµ‡Æö‡Æ§‡Æø‡ÆØ‡Ææ‡Æï ‡Æá‡Æ∞‡ØÅ‡Æï‡Øç‡Æï‡ØÅ‡ÆÆ‡Øç ‡ÆÆ‡Øä‡Æ¥‡Æø‡ÆØ‡Øà‡Æ§‡Øç ‡Æ§‡Øá‡Æ∞‡Øç‡Æ®‡Øç‡Æ§‡ØÜ‡Æü‡ØÅ‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç.",
        heroTitle: "‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ∏‡Øç‡ÆÆ‡Ææ‡Æ∞‡Øç‡Æü‡Øç ‡Æ§‡Ææ‡Æµ‡Æ∞ ‡ÆÜ‡Æ∞‡Øã‡Æï‡Øç‡Æï‡Æø‡ÆØ ‡Æâ‡Æ§‡Æµ‡Æø‡ÆØ‡Ææ‡Æ≥‡Æ∞‡Øç",
        heroDesc: "‡Æ®‡Øã‡ÆØ‡ØÅ‡Æ±‡Øç‡Æ± ‡Æ§‡Ææ‡Æµ‡Æ∞‡Æô‡Øç‡Æï‡Æ≥‡Øà ‡Æµ‡Æø‡Æ∞‡Øà‡Æµ‡Ææ‡Æï ‡Æö‡Æ∞‡Æø‡Æ™‡Ææ‡Æ∞‡Øç‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç. ‡Æ™‡ØÅ‡Æï‡Øà‡Æ™‡Øç‡Æ™‡Æü‡ÆÆ‡Øç ‡Æé‡Æü‡ØÅ‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç, ‡Æ™‡Æ§‡Æø‡Æ≤‡Øç ‡Æ™‡ØÜ‡Æ±‡Æµ‡ØÅ‡ÆÆ‡Øç, ‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ™‡ÆØ‡Æø‡Æ∞‡Øç‡Æï‡Æ≥‡Øà ‡Æ™‡Ææ‡Æ§‡ØÅ‡Æï‡Ææ‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç.",
        uploadLabel: "‡Æ™‡ÆØ‡Æø‡Æ∞‡Øç ‡Æ™‡Æü‡Æ§‡Øç‡Æ§‡Øà ‡Æ™‡Æ§‡Æø‡Æµ‡Øá‡Æ±‡Øç‡Æ±‡Æµ‡ØÅ‡ÆÆ‡Øç",
        takePhoto: "‡Æ™‡ØÅ‡Æï‡Øà‡Æ™‡Øç‡Æ™‡Æü‡ÆÆ‡Øç ‡Æé‡Æü‡ØÅ‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç",
        notesLabel: "‡Æï‡ØÇ‡Æü‡ØÅ‡Æ§‡Æ≤‡Øç ‡Æï‡ØÅ‡Æ±‡Æø‡Æ™‡Øç‡Æ™‡ØÅ‡Æï‡Æ≥‡Øç (‡Æµ‡Æø‡Æ∞‡ØÅ‡Æ™‡Øç‡Æ™‡Æ§‡Øç‡Æ§‡Æø‡Æ±‡Øç‡Æï‡Ææ‡Æ©‡Æ§‡ØÅ)",
        notesPlaceholder: "‡ÆÖ‡Æ±‡Æø‡Æï‡ØÅ‡Æ±‡Æø‡Æï‡Æ≥‡Øç ‡ÆÖ‡Æ≤‡Øç‡Æ≤‡Æ§‡ØÅ ‡Æï‡Æµ‡Æ≤‡Øà‡Æï‡Æ≥‡Øà ‡Æµ‡Æø‡Æµ‡Æ∞‡Æø‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç",
        analyzeBtn: "‡Æ™‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡Ææ‡ÆØ‡Øç‡Æµ‡ØÅ"
      },
      tel: {
        title: "‡∞Æ‡±Ä ‡∞≠‡∞æ‡∞∑‡∞®‡±Å ‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø",
        description: "‡∞Æ‡±Ä‡∞ï‡±Å ‡∞Ö‡∞®‡±Å‡∞ï‡±Ç‡∞≤‡∞Æ‡±à‡∞® ‡∞≠‡∞æ‡∞∑‡∞®‡±Å ‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø.",
        heroTitle: "‡∞Æ‡±Ä ‡∞∏‡±ç‡∞Æ‡∞æ‡∞∞‡±ç‡∞ü‡±ç ‡∞Æ‡±ä‡∞ï‡±ç‡∞ï‡∞≤ ‡∞Ü‡∞∞‡±ã‡∞ó‡±ç‡∞Ø ‡∞∏‡∞π‡∞æ‡∞Ø‡∞ï‡±Å‡∞°‡±Å",
        heroDesc: "‡∞∞‡±ã‡∞ó‡∞ó‡±ç‡∞∞‡∞∏‡±ç‡∞§ ‡∞Æ‡±ä‡∞ï‡±ç‡∞ï‡∞≤‡∞®‡±Å ‡∞§‡±ç‡∞µ‡∞∞‡∞ó‡∞æ ‡∞§‡∞®‡∞ø‡∞ñ‡±Ä ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø. ‡∞´‡±ã‡∞ü‡±ã ‡∞§‡±Ä‡∞∏‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø, ‡∞∏‡∞Æ‡∞æ‡∞ß‡∞æ‡∞®‡∞Ç ‡∞™‡±ä‡∞Ç‡∞¶‡∞Ç‡∞°‡∞ø, ‡∞Æ‡±Ä ‡∞™‡∞Ç‡∞ü‡∞≤‡∞®‡±Å ‡∞∞‡∞ï‡±ç‡∞∑‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø.",
        uploadLabel: "‡∞™‡∞Ç‡∞ü ‡∞ö‡∞ø‡∞§‡±ç‡∞∞‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞Ö‡∞™‡±ç‚Äå‡∞≤‡±ã‡∞°‡±ç ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø",
        takePhoto: "‡∞´‡±ã‡∞ü‡±ã ‡∞§‡±Ä‡∞Ø‡∞Ç‡∞°‡∞ø",
        notesLabel: "‡∞Ö‡∞¶‡∞®‡∞™‡±Å ‡∞ó‡∞Æ‡∞®‡∞ø‡∞ï‡∞≤‡±Å (‡∞ê‡∞ö‡±ç‡∞õ‡∞ø‡∞ï‡∞Ç)",
        notesPlaceholder: "‡∞≤‡∞ï‡±ç‡∞∑‡∞£‡∞æ‡∞≤‡±Å ‡∞≤‡±á‡∞¶‡∞æ ‡∞Ü‡∞Ç‡∞¶‡±ã‡∞≥‡∞®‡∞≤‡±Å ‡∞µ‡∞ø‡∞µ‡∞∞‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø",
        analyzeBtn: "‡∞µ‡∞ø‡∞∂‡±ç‡∞≤‡±á‡∞∑‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø"
      },
      kan: {
        title: "‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤≠‡≤æ‡≤∑‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø",
        description: "‡≤®‡≥Ä‡≤µ‡≥Å ‡≤Ö‡≤®‡≥Å‡≤ï‡≥Ç‡≤≤‡≤µ‡≤æ‡≤ó‡≤ø‡≤∞‡≥Å‡≤µ ‡≤≠‡≤æ‡≤∑‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø.",
        heroTitle: "‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤∏‡≥ç‡≤Æ‡≤æ‡≤∞‡≥ç‡≤ü‡≥ç ‡≤∏‡≤∏‡≥ç‡≤Ø ‡≤Ü‡≤∞‡≥ã‡≤ó‡≥ç‡≤Ø ‡≤∏‡≤π‡≤æ‡≤Ø‡≤ï",
        heroDesc: "‡≤∞‡≥ã‡≤ó‡≤ó‡≥ç‡≤∞‡≤∏‡≥ç‡≤§ ‡≤∏‡≤∏‡≥ç‡≤Ø‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤§‡≥ç‡≤µ‡≤∞‡≤ø‡≤§‡≤µ‡≤æ‡≤ó‡≤ø ‡≤™‡≤∞‡≤ø‡≤∂‡≥Ä‡≤≤‡≤ø‡≤∏‡≤ø. ‡≤´‡≥ã‡≤ü‡≥ã ‡≤§‡≥Ü‡≤ó‡≥Ü‡≤¶‡≥Å ‡≤â‡≤§‡≥ç‡≤§‡≤∞ ‡≤™‡≤°‡≥Ü‡≤Ø‡≤ø‡≤∞‡≤ø, ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤¨‡≥Ü‡≤≥‡≥Ü‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤â‡≤≥‡≤ø‡≤∏‡≤ø.",
        uploadLabel: "‡≤¨‡≥Ü‡≤≥‡≥Ü ‡≤ö‡≤ø‡≤§‡≥ç‡≤∞‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤Ö‡≤™‡≥ç‚Äå‡≤≤‡≥ã‡≤°‡≥ç ‡≤Æ‡≤æ‡≤°‡≤ø",
        takePhoto: "‡≤´‡≥ã‡≤ü‡≥ã ‡≤§‡≥Ü‡≤ó‡≥Ü‡≤¶‡≥Å‡≤ï‡≥ä‡≤≥‡≥ç‡≤≥‡≤ø",
        notesLabel: "‡≤π‡≥Ü‡≤ö‡≥ç‡≤ö‡≥Å‡≤µ‡≤∞‡≤ø ‡≤ü‡≤ø‡≤™‡≥ç‡≤™‡≤£‡≤ø‡≤ó‡≤≥‡≥Å (‡≤ê‡≤ö‡≥ç‡≤õ‡≤ø‡≤ï)",
        notesPlaceholder: "‡≤≤‡≤ï‡≥ç‡≤∑‡≤£‡≤ó‡≤≥‡≥Å ‡≤Ö‡≤•‡≤µ‡≤æ ‡≤ö‡≤ø‡≤Ç‡≤§‡≥Ü‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤µ‡≤ø‡≤µ‡≤∞‡≤ø‡≤∏‡≤ø",
        analyzeBtn: "‡≤µ‡≤ø‡≤∂‡≥ç‡≤≤‡≥á‡≤∑‡≤ø‡≤∏‡≤ø"
      },
      mar: {
        title: "‡§Ü‡§™‡§≤‡•Ä ‡§≠‡§æ‡§∑‡§æ ‡§®‡§ø‡§µ‡§°‡§æ",
        description: "‡§Ü‡§™‡§≤‡•ç‡§Ø‡§æ‡§≤‡§æ ‡§∏‡•ã‡§Ø‡•Ä‡§∏‡•ç‡§ï‡§∞ ‡§Ö‡§∏‡§≤‡•á‡§≤‡•Ä ‡§≠‡§æ‡§∑‡§æ ‡§®‡§ø‡§µ‡§°‡§æ.",
        heroTitle: "‡§Ü‡§™‡§≤‡§æ ‡§∏‡•ç‡§Æ‡§æ‡§∞‡•ç‡§ü ‡§µ‡§®‡§∏‡•ç‡§™‡§§‡•Ä ‡§Ü‡§∞‡•ã‡§ó‡•ç‡§Ø ‡§∏‡§π‡§æ‡§Ø‡•ç‡§Ø‡§ï",
        heroDesc: "‡§Ü‡§ú‡§æ‡§∞‡•Ä ‡§µ‡§®‡§∏‡•ç‡§™‡§§‡•Ä‡§Ç‡§ö‡•Ä ‡§ù‡§ü‡§™‡§ü ‡§§‡§™‡§æ‡§∏‡§£‡•Ä ‡§ï‡§∞‡§æ. ‡§´‡•ã‡§ü‡•ã ‡§ò‡•ç‡§Ø‡§æ, ‡§â‡§§‡•ç‡§§‡§∞ ‡§Æ‡§ø‡§≥‡§µ‡§æ, ‡§Ü‡§™‡§≤‡•Ä ‡§™‡§ø‡§ï‡•á ‡§µ‡§æ‡§ö‡§µ‡§æ.",
        uploadLabel: "‡§™‡§ø‡§ï‡§æ‡§ö‡§æ ‡§´‡•ã‡§ü‡•ã ‡§Ö‡§™‡§≤‡•ã‡§° ‡§ï‡§∞‡§æ",
        takePhoto: "‡§´‡•ã‡§ü‡•ã ‡§ò‡•ç‡§Ø‡§æ",
        notesLabel: "‡§Ö‡§§‡§ø‡§∞‡§ø‡§ï‡•ç‡§§ ‡§®‡•ã‡§Ç‡§¶‡•Ä (‡§™‡§∞‡•ç‡§Ø‡§æ‡§Ø‡•Ä)",
        notesPlaceholder: "‡§≤‡§ï‡•ç‡§∑‡§£‡•á ‡§ï‡§ø‡§Ç‡§µ‡§æ ‡§ö‡§ø‡§Ç‡§§‡§æ ‡§µ‡§∞‡•ç‡§£‡§® ‡§ï‡§∞‡§æ",
        analyzeBtn: "‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§ï‡§∞‡§æ"
      }
    };
  </script>
  <!-- ===== translation.js END ===== -->

  <!-- ===== script.js START ===== -->
  <script>
    // Show main page if language is already selected
    document.addEventListener('DOMContentLoaded', function() {
  localStorage.removeItem('selectedLanguage'); // Always show language selection
  const lang = localStorage.getItem('selectedLanguage');
  if (lang) {
    showMainPage();
    applyTranslations(lang);
  } else {
    showLanguagePage();
  }
});

    function setLanguage(lang) {
      localStorage.setItem('selectedLanguage', lang);
      showMainPage();
      applyTranslations(lang);
    }

    function showMainPage() {
      document.getElementById('languagePage').style.display = 'none';
      document.getElementById('mainPage').style.display = '';
    }
    function showLanguagePage() {
      document.getElementById('languagePage').style.display = '';
      document.getElementById('mainPage').style.display = 'none';
    }

    function applyTranslations(lang) {
      const t = translations[lang] || translations['en'];
      // Language page
      if (document.getElementById('title')) document.getElementById('title').textContent = t.title;
      if (document.getElementById('description')) document.getElementById('description').textContent = t.description;
      // Main page
      if (document.getElementById('heroTitle')) document.getElementById('heroTitle').textContent = t.heroTitle;
      if (document.getElementById('heroDesc')) document.getElementById('heroDesc').textContent = t.heroDesc;
      if (document.getElementById('uploadLabel')) document.getElementById('uploadLabel').textContent = t.uploadLabel;
      if (document.getElementById('takePhotoText')) document.getElementById('takePhotoText').textContent = t.takePhoto;
      if (document.getElementById('notesLabel')) document.getElementById('notesLabel').textContent = t.notesLabel;
      if (document.getElementById('notes')) document.getElementById('notes').placeholder = t.notesPlaceholder;
      if (document.getElementById('analyzeBtn')) document.getElementById('analyzeBtn').textContent = t.analyzeBtn;
    }

    // Backend API URL - change this if your backend runs on a different port
    const API_BASE_URL = 'http://localhost:8080/api';

    // Take photo button triggers file input
    document.addEventListener('DOMContentLoaded', function() {
      const takePhotoBtn = document.getElementById('takePhotoBtn');
      const imageInput = document.getElementById('imageInput');
      const analyzeBtn = document.getElementById('analyzeBtn');
      
      if (takePhotoBtn && imageInput) {
        takePhotoBtn.addEventListener('click', function() {
          imageInput.click();
        });
      }
      
      // Image preview
      if (imageInput) {
        imageInput.addEventListener('change', function(e) {
          const file = e.target.files[0];
          if (file) {
            const reader = new FileReader();
            reader.onload = function(evt) {
              document.getElementById('imageContainer').innerHTML =
                `<img src="${evt.target.result}" alt="Preview">`;
            };
            reader.readAsDataURL(file);
          }
        });
      }
      
      // Analyze button - send image to backend
      if (analyzeBtn) {
        analyzeBtn.addEventListener('click', async function() {
          const imageInput = document.getElementById('imageInput');
          const notes = document.getElementById('notes').value;
          
          if (!imageInput.files || imageInput.files.length === 0) {
            alert('Please select an image first!');
            return;
          }
          
          const file = imageInput.files[0];
          await analyzeImage(file, notes);
        });
      }
    });

    // Function to send image to backend and display results
    async function analyzeImage(file, notes) {
      const analyzeBtn = document.getElementById('analyzeBtn');
      const originalText = analyzeBtn.textContent;
      
      try {
        // Show loading state
        analyzeBtn.disabled = true;
        analyzeBtn.textContent = 'Analyzing...';
        
        // Create FormData
        const formData = new FormData();
        formData.append('image', file);
        if (notes) {
          formData.append('notes', notes);
        }
        
        // Send request to backend
        const response = await fetch(`${API_BASE_URL}/predict`, {
          method: 'POST',
          body: formData
        });
        
        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }
        
        const result = await response.json();
        
        // Display results
        displayResults(result);
        
      } catch (error) {
        console.error('Error analyzing image:', error);
        alert('Error analyzing image: ' + error.message + '\n\nMake sure the backend is running on http://localhost:8080');
      } finally {
        // Reset button
        analyzeBtn.disabled = false;
        analyzeBtn.textContent = originalText;
      }
    }

    // Function to display prediction results
    function displayResults(result) {
      // Hide the form elements
      const cropForm = document.getElementById('cropForm');
      const heroSection = document.querySelector('.hero');
      const changeLangBtn = document.getElementById('changeLangBtn');
      
      if (cropForm) {
        cropForm.style.display = 'none';
      }
      if (heroSection) {
        heroSection.style.display = 'none';
      }
      if (changeLangBtn) {
        changeLangBtn.style.display = 'none';
      }
      
      // Get main element to display results
      const mainElement = document.querySelector('main');
      const imageContainer = document.getElementById('imageContainer');
      const currentImage = imageContainer ? imageContainer.querySelector('img') : null;
      
      // Create results display
      const resultsHTML = `
        <div style="max-width: 600px; margin: 2em auto; padding: 2em; background: #fff; border-radius: 16px; box-shadow: 0 4px 16px rgba(44, 62, 80, 0.1);">
          <h2 style="margin-top: 0; color: #145a32; text-align: center; font-size: 1.8em;">üå± Analysis Results</h2>
          ${currentImage ? `<div style="text-align: center; margin-bottom: 1.5em;"><img src="${currentImage.src}" alt="Analyzed Image" style="max-width: 100%; border-radius: 8px; box-shadow: 0 2px 8px rgba(44, 62, 80, 0.1);"></div>` : ''}
          <div style="margin-bottom: 1.5em;">
            <p style="font-size: 1.1em; margin: 0.5em 0;"><strong>Status:</strong> <span style="color: ${result.status === 'Success' ? '#2ecc40' : '#e74c3c'}">${result.status}</span></p>
            <p style="font-size: 1.1em; margin: 0.5em 0;"><strong>Predicted Class:</strong> <span style="color: #145a32; font-weight: bold;">${result.predictedClass || 'N/A'}</span></p>
            <p style="font-size: 1.1em; margin: 0.5em 0;"><strong>Confidence:</strong> <span style="color: #27ae60; font-weight: bold;">${result.confidence ? result.confidence.toFixed(2) + '%' : 'N/A'}</span></p>
          </div>
          <div style="margin-top: 1.5em; padding: 1.2em; background: #eafaf1; border-radius: 8px; border-left: 4px solid #27ae60;">
            <h3 style="margin-top: 0; color: #145a32;">üí° Recommendation:</h3>
            <p style="margin-top: 0.8em; white-space: pre-line; line-height: 1.6; color: #2c3e50;">${result.recommendation || 'No recommendation available.'}</p>
          </div>
          <button id="analyzeAnotherBtn" style="margin-top: 2em; width: 100%; background: #2ecc40; color: #fff; border: none; border-radius: 8px; padding: 14px 0; font-size: 1.1em; cursor: pointer; font-weight: bold;">
            Analyze Another Image
          </button>
        </div>
      `;
      
      // Replace main content with results
      if (mainElement) {
        mainElement.innerHTML = resultsHTML;
        
        // Add event listener for "Analyze Another" button
        const analyzeAnotherBtn = document.getElementById('analyzeAnotherBtn');
        if (analyzeAnotherBtn) {
          analyzeAnotherBtn.addEventListener('click', function() {
            location.reload(); // Reload page to reset form
          });
        }
      } else {
        // Fallback: use imageContainer if main doesn't exist
        if (imageContainer) {
          imageContainer.innerHTML = resultsHTML;
        }
      }
    }
  </script>
  <!-- ===== script.js END ===== -->
</body>
</html>